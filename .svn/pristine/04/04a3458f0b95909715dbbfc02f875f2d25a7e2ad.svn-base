webpackJsonp([47],{JsJz:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("LAaC"),s=e("I22p"),n=e("lreY"),l={inject:["replaceroute"],data:function(){return{isClear:-1,list:[{router:this.$parent.appInit.tit10},{router:this.$parent.appInit.tit03}],end:this.$parent.appInit.tit12,filType:"pic",urlId:"",pkid:"",isHave:!1,isEAPP:!1,appObj:{},centerDialogVisible:!1,imgNum:"",imgList:{img01:{imgid:"",imgpath:""},img02:{imgid:"",imgpath:""},img03:{imgid:"",imgpath:""},img04:{imgid:"",imgpath:""},img05:{imgid:"",imgpath:""},img06:{imgid:"",imgpath:""},img07:{imgid:"",imgpath:""},img08:{imgid:"",imgpath:""}},imgArr:["img01","img02","img03","img04","img05","img06","img07","img08"]}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight(),this.loadsx()},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},methods:{deletshow:function(t,i){this.filType="fil"==i?"fil":"pic",this.centerDialogVisible=!0,this.imgNum=t},delPictrue:function(){Object(a.k)(this,this.filType)},uploadMoreattach:function(t,i){var e={isAttach:"img07"==t?"attach":"pictrue",types:"img07"==t?"apps":"img08"==t?"appImg":"mainImg",tbname:"apps",imgIndex:this.imgList[t],dom:document.getElementById(t),pkid:i};Object(a._22)(e)},getData:function(){this.pkid=this.urlId.substring(this.urlId.indexOf("@")+1);var t=JSON.parse(sessionStorage.getItem(this.pkid));Object(n.b)(this,t);for(var i=t.imgLsit,e=0;e<i.length;e++)this.imgList["img0"+(e+1)].imgid=i[e].atid,this.imgList["img0"+(e+1)].imgpath=i[e].aturl;var a=t.appList,s=t.iconObj;a&&(this.imgList.img07.imgid=a.atid,this.imgList.img07.imgpath="../../../static/img/yasuo.png"),s&&(this.imgList.img08.imgid=s.atid,this.imgList.img08.imgpath=s.aturl)},getHeight:function(){this.windowHeight=this.$config.getHeight(240)},loadsx:function(){this.urlId=this.$route.params.id,this.getData()},cancel:function(t){var i=Object(s.v)(t);this.replaceroute(i[0],i[1])},getAppsCount:function(t){var i=this,e=JSON.parse(sessionStorage.getItem(this.pkid));if(this.appObj[t].val==e[t])return boo=!1;var s={appcname:"appcname"==t?this.appObj.appcname.val:"",appename:"appename"==t?this.appObj.appename.val:"",success:function(e){e.data.message.indexOf("getSuccess")>-1?e.data.flag?("appcname"==t?i.isHave=!0:i.isEAPP=!0,i.$message.error("appcname"==t?"该应用中文名已存在":"该应用英文名已存在")):"appcname"==t?i.isHave=!1:i.isEAPP=!1:i.$message.error(i.$buttonObj.busy)}};Object(a.t)(s)},sendInfo:function(){var t=this;if(this.isHave)return this.$message.error("该应用中文名已存在");if(this.isEAPP)return this.$message.error("该应用英文名已存在");if(Object(s.b)(this.appObj)){this.appObj.savetime.val=Object(s.o)(this.appObj.savetime.val,!0);var i={success:function(i){i.data.message.indexOf("editSuccess")>-1?t.cancel("/management/appList/appdetail/"):t.$message.error(t.promptObj.updatefail)},self:this};Object(a._17)(i,!0)}}},watch:{$route:"loadsx"}},p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("the-breadcrumb",{attrs:{end:t.end,list:t.list}}),t._v(" "),e("div",{staticClass:"app-content"},[e("el-scrollbar",{style:{height:t.windowHeight}},[e("div",{staticClass:"app-title"},[t._v(t._s(t.$parent.appInit.tit02))]),t._v(" "),e("div",{staticClass:"app-input",staticStyle:{"margin-bottom":"40px"}},[e("div",t._l(t.appObj,function(i,a){return e("div",{key:a,class:"remark"==a?"demo-textatea-suffix":"demo-input-suffix",staticStyle:{"margin-bottom":"30px"}},[e("span",{class:{"demo-textatea-title":"remark"==a,"dis-title":"remark"!=a}},[t._v(t._s(i.name))]),t._v(" "),i.select?[e("el-select",{attrs:{placeholder:t.$buttonObj.select},model:{value:i.val,callback:function(e){t.$set(i,"val",e)},expression:"item.val"}},t._l(i.select,function(t,i){return e("el-option",{key:i,attrs:{label:t,value:i}})}),1)]:"savetime"==a?[e("el-date-picker",{staticStyle:{"margin-left":"15px",width:"35%"},attrs:{type:"date",placeholder:"item.name"},model:{value:i.val,callback:function(e){t.$set(i,"val",e)},expression:"item.val"}})]:"remark"==a?[e("el-input",{staticStyle:{width:"67.5%"},attrs:{resize:"none",type:"textarea",autosize:{minRows:6}},model:{value:i.val,callback:function(e){t.$set(i,"val",e)},expression:"item.val"}})]:["appcname"==a||"appename"==a?[e("el-input",{on:{blur:function(i){t.getAppsCount(a)}},model:{value:i.val,callback:function(e){t.$set(i,"val",e)},expression:"item.val"}})]:[e("el-input",{model:{value:i.val,callback:function(e){t.$set(i,"val",e)},expression:"item.val"}})],t._v(" "),"appename"==a?e("span",{staticStyle:{color:"red"}},[t._v("("+t._s(t.$parent.appInit.tit13)+")")]):t._e()]],2)}),0)]),t._v(" "),e("div",{staticStyle:{display:"inline-block","margin-right":"137px"}},[e("div",{staticClass:"app-title"},[t._v(t._s(t.$parent.appInit.tit07))]),t._v(" "),e("div",{staticClass:"app-input",staticStyle:{"margin-bottom":"40px"}},[e("form",{staticClass:"uploadForm",staticStyle:{position:"relative"},attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"file-imgs"},[e("input",{attrs:{type:"file",id:"img07",name:"img07",accept:".zip",multiple:"multiple"},on:{change:function(i){t.uploadMoreattach("img07",t.pkid)}}}),t._v(" "),e("div",{staticClass:"show-imgs"},[t.imgList.img07.imgpath?e("img",{attrs:{src:t.imgList.img07.imgpath},on:{mouseenter:function(i){t.isClear=6}}}):t._e(),t._v(" "),e("div",{class:6==t.isClear?"fil-btn-hover":"",on:{mouseleave:function(i){t.isClear=-1}}},[t.imgList.img07.imgpath&&"../../../static/img/timg.gif"!=t.imgList.img07.imgpath?e("span",{staticClass:"del-file-imgs",on:{click:function(i){t.deletshow("img07","fil")}}},[e("i",{staticClass:"el-icon-delete fil-clear-icon"})]):t._e()])])])])])]),t._v(" "),e("div",{staticStyle:{display:"inline-block",width:"30%"}},[e("div",{staticClass:"app-title"},[t._v(t._s(t.$parent.appInit.tit08))]),t._v(" "),e("div",{staticClass:"app-input",staticStyle:{"margin-bottom":"40px"}},[e("form",{staticClass:"uploadForm",staticStyle:{position:"relative"},attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"file-imgs"},[e("input",{attrs:{type:"file",id:"img08",name:"img08",accept:"image/jpeg, image/png, image/gif, image/jpg",multiple:"multiple"},on:{change:function(i){t.uploadMoreattach("img08",t.pkid)}}}),t._v(" "),e("div",{staticClass:"show-imgs"},[t.imgList.img08.imgpath?e("img",{attrs:{src:t.imgList.img08.imgpath},on:{mouseenter:function(i){t.isClear=7}}}):t._e(),t._v(" "),e("div",{class:7==t.isClear?"fil-btn-hover":"",on:{mouseleave:function(i){t.isClear=-1}}},[t.imgList.img08.imgpath&&"../../../static/img/timg.gif"!=t.imgList.img08.imgpath?e("span",{staticClass:"del-file-imgs",on:{click:function(i){t.deletshow("img08")}}},[e("i",{staticClass:"el-icon-delete fil-clear-icon"})]):t._e()])])])])])]),t._v(" "),e("div",{staticClass:"app-title"},[t._v(t._s(t.$parent.appInit.tit09))]),t._v(" "),e("div",{staticClass:"app-input"},[e("div",{staticClass:"demo-input-suffix",staticStyle:{"padding-top":"15px"}},[e("div",{staticClass:"appimgupload"},[e("div",{staticClass:"app-uploadclass"},[e("form",{staticClass:"uploadForm",staticStyle:{position:"relative"},attrs:{enctype:"multipart/form-data"}},t._l(t.imgArr,function(i,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:a<6,expression:" index < 6 "}],key:a,staticClass:"file-imgs"},[e("input",{attrs:{type:"file",id:i,name:i,accept:"image/jpeg, image/png, image/gif, image/jpg",multiple:"multiple"},on:{change:function(e){t.uploadMoreattach(i,t.pkid)}}}),t._v(" "),e("div",{staticClass:"show-imgs"},[t.imgList[i].imgpath?e("img",{attrs:{src:t.imgList[i].imgpath},on:{mouseenter:function(i){t.isClear=a}}}):t._e(),t._v(" "),e("div",{class:t.isClear==a?"fil-btn-hover":"",on:{mouseleave:function(i){t.isClear=-1}}},[t.imgList[i].imgpath&&"../../../static/img/timg.gif"!=t.imgList[i].imgpath?e("span",{staticClass:"del-file-imgs",on:{click:function(e){t.deletshow(i)}}},[e("i",{staticClass:"el-icon-delete fil-clear-icon"})]):t._e()])])])}),0)])])])]),t._v(" "),e("el-dialog",{attrs:{title:t.$promptObj.warn,visible:t.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(i){t.centerDialogVisible=i}}},[e("span",[t._v(t._s(t.$promptObj.delwarn))]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.centerDialogVisible=!1}}},[t._v(t._s(t.$buttonObj.cancel))]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(i){t.delPictrue("fil")}}},[t._v(t._s(t.$buttonObj.sure))])],1)]),t._v(" "),e("div",{staticClass:"btn-group"},[e("el-row",[e("el-button",{attrs:{type:"warning"},nativeOn:{click:function(i){return t.sendInfo(i)}}},[t._v(t._s(t.$buttonObj.save))]),t._v(" "),e("el-button",{style:{backgroundColor:t.colorselects,color:"#fff"},on:{click:function(i){t.cancel("/management/appList/appdetail/")}}},[t._v(t._s(t.$buttonObj.cancel))])],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=e("VU/8")(l,p,!1,function(t){e("tHCa")},"data-v-53a32c54",null);i.default=m.exports},tHCa:function(t,i){}});