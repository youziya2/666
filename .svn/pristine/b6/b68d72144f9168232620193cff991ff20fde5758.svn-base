webpackJsonp([20],{"4cb0":function(e,t,s){e.exports=s.p+"static/img/zcrimg.16ba387.png"},"Q+b0":function(e,t){},jXV0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("LAaC"),c=s("7AIs"),o=s("js5j"),a=s("I22p"),n={data:function(){return{list:[{router:this.$parent.$parent.userObj.tit01}],end:this.$parent.$parent.userObj.tit10,product:[],thisPage:1,perPage:18,scct:"",personList:{},rlename:{},hover:"",type:1,onhover:"",allCheck:"",totalChoice:[],totalChecked:[],selectNum:0,centerDialogVisible:!1,deletshow:!1,bordercolor:{color:"1px solid"+this.colorselects},listActive:"",windowHeight:""}},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},components:{child:o.a},created:function(){sessionStorage.getItem("Busertype")&&sessionStorage.getItem("Busertype").length&&(this.type=sessionStorage.getItem("Busertype")),window.addEventListener("resize",this.getHeight),Object(c.e)(this),this.getHeight(),this.getScct(),this.getData()},watch:{product:{deep:!0,handler:function(e){var t=this;this.deletshow=!1,this.allCheck=!0,e.forEach(function(e){e.listCheck&&(t.deletshow=!0),!e.listCheck&&(t.allCheck=!1)})}},type:function(){this.product.forEach(function(e){e.listCheck=!1})}},methods:{getCurrent:function(e){this.thisPage=e,this.getData()},initData:function(){this.thisPage=1,this.scct="",Object(a.d)("nl"),this.getData()},allChoice:function(){var e=this;this.product.forEach(function(t){e.allCheck?(t.listCheck=!0,e.totalChoice.push(t.psuserid)):(t.listCheck=!1,e.totalChoice=[])})},getScct:function(){this.thisPage=1,Object(a.p)("nl",{scct:""},this)},setScct:function(){var e={scct:this.scct};Object(a.r)("nl",e)},doSearch:function(){this.setScct(),this.thisPage=1,this.getData(!0)},getChoice:function(e,t,s,i){Object(a.l)(e,t,s,i)},doChoice:function(e,t){this.centerDialogVisible=!0,this[t]=Object(a.h)(e,t),this.selectNum=this[t].length,this.$bus.emit("deleteArr",this[t],"psuserid")},delOne:function(){var e=this,t={success:function(t){(t=JSON.parse(t)).message.indexOf("removeSuccess")>-1?(e.$message.success(e.$promptObj.removesuccess),e.centerDialogVisible=!1,e.$bus.emit("removeTab",e.totalChecked),e.getData()):e.$message.error(e.$promptObj.removefail)}};Object(i.h)("BHUserServiceInfc.batchRemovePerson","person",t)},getHeight:function(){this.windowHeight=this.$config.getHeight(350)},remenbtype:function(e){this.type=e,sessionStorage.setItem("Busertype",e)},goxiugai:function(e,t,s){var i=Object(a.q)(e,t,"/management/userList/NUser/NUserDetail/","./static/img/smalluser.png",s);this.$emit("addxiugai",i)},getData:function(){var e=this,t={self:this,success:function(t){if(t.data.message.indexOf("getSuccess")>-1){var s=t.data.personList,i={};e.currs=Math.ceil(t.data.page.sumRecord/e.perPage),e.product=[];for(var c=0;c<s.length;c++)(i=s[c].fieldvalues).listCheck=!1,e.product.push(i);e.$bus.emit("doPage",e.currs,e.perPage,e.thisPage),e.totalChoice=[],e.totalChecked=[]}else e.sumRecord=e.product.length,e.$message.error(e.$promptObj.searchfail)}};Object(i.J)(t)}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("the-breadcrumb",{attrs:{end:e.end,list:e.list},on:{initData:e.initData}}),e._v(" "),i("div",{staticClass:"Buser-content"},[i("div",[i("div",{staticClass:"Buserswitcher"},[i("div",{staticClass:"s-left",on:{click:function(t){e.remenbtype(1)}}},[i("i",{staticClass:"iconfont icon-jiugongge",style:{color:1==e.type?e.colorselects:""}})]),e._v(" "),i("div",{staticClass:"s-right",on:{click:function(t){e.remenbtype(2)}}},[i("i",{staticClass:"iconfont icon-liebiao1",style:{color:2==e.type?e.colorselects:""}})])]),e._v(" "),i("div",{staticClass:"search",staticStyle:{"margin-bottom":"26px"}},[e._v("\n                "+e._s(e.$parent.$parent.userObj.tit07)+"\n                "),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:e.$parent.$parent.userObj.tit09},model:{value:e.scct,callback:function(t){e.scct=t},expression:"scct"}},[i("el-button",{style:{backgroundColor:e.colorselects},attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(t){return e.doSearch(t)}},slot:"append"})],1)],1),e._v(" "),i("div",{staticClass:"cut"},[e.product.length>0?i("el-checkbox",{on:{change:e.allChoice},model:{value:e.allCheck,callback:function(t){e.allCheck=t},expression:"allCheck"}},[e._v(e._s(e.$buttonObj.allCheck))]):i("div",{staticClass:"content-null"},[e._v(" "+e._s(e.$buttonObj.noData)+" ")])],1)]),e._v(" "),i("el-scrollbar",{staticStyle:{width:"100%","overflow-x":"hidden"},style:{height:e.windowHeight}},[i("div",{staticClass:"Buser-productListbox"},[1==e.type?i("el-row",{attrs:{gutter:80}},e._l(e.product,function(t,c){return i("el-col",{key:c,attrs:{span:4}},[i("div",{staticClass:"Buser-productLists",class:t.listCheck?"BuserActive":"",on:{mouseenter:function(t){e.onhover=c},mouseleave:function(t){e.onhover=""}}},["manager"!=t.rlename?[i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.onhover===c||t.listCheck,expression:"onhover === index||item.listCheck"}],on:{change:function(s){e.getChoice(e.totalChoice,c,t.listCheck,t.psuserid)}},model:{value:t.listCheck,callback:function(s){e.$set(t,"listCheck",s)},expression:"item.listCheck"}})]:e._e(),e._v(" "),i("div",{staticClass:"fffback",attrs:{title:t.realname},on:{click:function(s){e.goxiugai(t.realname,t,"psuserid")}}},[i("img",{attrs:{src:s("4cb0")}}),e._v(" "),i("div",{staticClass:"txt-hidden",staticStyle:{"margin-bottom":"15px","margin-top":"20px"}},[e._v(e._s(e.personList.realname)+"："+e._s(t.realname))]),e._v(" "),i("div",{staticClass:"txt-hidden"},[e._v(e._s(e.personList.userName)+"："+e._s(t.mobile))])])],2)])}),1):e._e(),e._v(" "),2==e.type?i("div",{staticClass:"Buser-productTypeTwo"},e._l(e.product,function(t,c){return i("div",{key:c,staticClass:"Buserlist",class:t.listCheck?"ischeck":"",on:{mouseenter:function(t){e.listActive=c},mouseleave:function(t){e.listActive=""}}},["manager"!=t.rlename?[i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.listActive===c||t.listCheck,expression:"listActive === index||item.listCheck"}],on:{change:function(s){e.getChoice(e.totalChoice,c,t.listCheck,t.psuserid)}},model:{value:t.listCheck,callback:function(s){e.$set(t,"listCheck",s)},expression:"item.listCheck"}})]:e._e(),e._v(" "),i("div",{staticClass:"Buserimg"},[i("img",{attrs:{src:s("4cb0")},on:{click:function(s){e.goxiugai(t.realname,t,"psuserid")}}})]),e._v(" "),i("div",{staticClass:"Buserdetails",on:{click:function(s){e.goxiugai(t.realname,t,"psuserid")}}},[i("div",{staticClass:"Buserdetailstitle"}),e._v(" "),i("div",[e._v(e._s(e.personList.realname)+"："+e._s(t.realname))]),e._v(" "),i("div",{staticStyle:{width:"40%"}},[e._v(e._s(e.personList.mobile)+"："+e._s(t.mobile))]),e._v(" "),i("div",[e._v(e._s(e.personList.rlename)+"："+e._s(e.rlename[t.rlename]))]),e._v(" "),i("div",{staticStyle:{width:"40%"}},[e._v(e._s(e.personList.userName)+"："+e._s(t.mobile))])])],2)}),0):e._e(),e._v(" "),i("el-dialog",{attrs:{title:e.$promptObj.warn,visible:e.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[i("span",[e._v(e._s(e.$promptObj.delwarn))]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v(e._s(e.$buttonObj.cancel))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.delOne}},[e._v(e._s(e.$buttonObj.sure))])],1)]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.deletshow,expression:"deletshow"}],staticClass:"show-delet-btn",on:{click:function(t){e.doChoice(e.totalChoice,"totalChecked")}}},[e._v(e._s(e.$buttonObj.remove))])],1),e._v(" "),i("child",{on:{current:e.getCurrent}})],1)],1)],1)},staticRenderFns:[]};var r=s("VU/8")(n,l,!1,function(e){s("Q+b0")},"data-v-2411f816",null);t.default=r.exports}});