webpackJsonp([51],{AbCe:function(t,e){},tpfJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("LAaC"),a=i("I22p"),n=i("ZzM7"),l={inject:["replaceroute"],data:function(){return{isClear:-1,list:[{router:this.$parent.$parent.systemObj.tit04}],end:this.$parent.$parent.systemObj.tit08,versionObj:{},imgList:{img01:{imgid:"",imgpath:""}},pkid:"",imgNum:"",centerDialogVisible:!1,realname:"",userInfo:{},moreInfo:{},windowHeight:""}},created:function(){window.addEventListener("resize",this.getHeight),Object(n.a)(this),this.versionObj.savetime.val=Object(a.o)(new Date),this.getHeight(),this.getData()},watch:{$route:"getData"},methods:{getHeight:function(){this.windowHeight=this.$config.getHeight(190)},deletshow:function(t,e){this.centerDialogVisible=!0,this.imgNum=t},delPictrue:function(){Object(s.k)(this,"fil","system")},uploadMoreattach:function(t,e){var i={isAttach:"attach",types:"attach",tbname:"versions",imgIndex:this.imgList[t],dom:document.getElementById(t),pkid:e};Object(s._22)(i,!0)},getData:function(){var t,e=this.$route.params.id;for(var i in e=e.substring(e.indexOf("@")+1),this.pkid=e,t=JSON.parse(sessionStorage.getItem(e)),this.versionObj)this.versionObj[i].val=t[i];t.fil.length>0&&(this.imgList.img01.imgid=t.fil[0].fieldvalues.atid,this.imgList.img01.imgpath="../../../../static/img/yasuo.png")},addVersions:function(){var t=this;if(Object(a.b)(this.versionObj)){this.versionObj.savetime.val=Object(a.o)(this.versionObj.savetime.val);var e=this.$route.params.id,i={self:this,success:function(e){e.data.message.indexOf("editSuccess")>-1?t.cancel():t.$message.error(t.$promptObj.savefail)},vsid:e=e.substring(e.indexOf("@")+1)};Object(s.f)(i,!0)}},cancel:function(){var t=Object(a.v)("/management/systemVersion/custom/VersionDetail/");this.replaceroute(t[0],t[1])}},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("the-breadcrumb",{attrs:{end:t.end,list:t.list}}),t._v(" "),i("el-scrollbar",{staticStyle:{"background-color":"#fff"},style:{height:t.windowHeight}},[i("div",{staticClass:"version-input"},t._l(t.versionObj,function(e,s){return i("div",{key:s,staticClass:"version-input-active",class:{"version-input-half":e.units},staticStyle:{"margin-bottom":"50px"},style:"content"==s?"width:100%":"height: 42px;"},[i("span",{staticClass:"version-input-title",class:{"version-input-must":e.must}},[t._v(t._s(e.name))]),t._v(" "),e.select?[i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:t.$buttonObj.select},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}},t._l(e.select,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}),1)]:"savetime"==s?[i("el-date-picker",{staticStyle:{width:"35%"},attrs:{type:"datetime",placeholder:e.name},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]:"content"==s?[i("el-input",{staticClass:"textarea",staticStyle:{"vertical-align":"top"},attrs:{resize:"none",type:"textarea",autosize:{minRows:8}},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]:["appcname"==s?[i("el-input",{nativeOn:{keyup:function(e){return t.getAppsCount(e)}},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]:[i("el-input",{model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]]],2)}),0),t._v(" "),i("div",{staticClass:"version-pack"},[i("div",{staticClass:"version-pack-title"},[t._v(t._s(t.$parent.$parent.systemObj.tit09))]),t._v(" "),i("div",[i("form",{staticClass:"uploadForm",staticStyle:{position:"relative","padding-left":"120px"},attrs:{enctype:"multipart/form-data"}},[i("div",{staticClass:"file-imgs"},[i("input",{attrs:{type:"file",id:"img01",name:"img01",accept:".zip",multiple:"multiple"},on:{change:function(e){t.uploadMoreattach("img01",t.pkid)}}}),t._v(" "),i("div",{staticClass:"show-imgs"},[t.imgList.img01.imgpath?i("img",{attrs:{src:t.imgList.img01.imgpath},on:{mouseenter:function(e){t.isClear=1}}}):t._e(),t._v(" "),i("div",{class:1==t.isClear?"fil-btn-hover":"",on:{mouseleave:function(e){t.isClear=-1}}},[t.imgList.img01.imgpath&&"../../../static/img/timg.gif"!=t.imgList.img01.imgpath?i("span",{staticClass:"del-file-imgs",on:{click:function(e){t.deletshow("img01","fil")}}},[i("i",{staticClass:"el-icon-delete fil-clear-icon"})]):t._e()])])])])])]),t._v(" "),i("el-dialog",{attrs:{title:t.$promptObj.warn,visible:t.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("span",[t._v(t._s(t.$promptObj.delwarn))]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$buttonObj.cancel))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.delPictrue}},[t._v(t._s(t.$buttonObj.sure))])],1)]),t._v(" "),i("div",{staticClass:"btn-group"},[i("el-row",[i("el-row",[i("el-button",{attrs:{type:"warning"},on:{click:function(e){t.addVersions()}}},[t._v(t._s(t.$buttonObj.save))]),t._v(" "),i("el-button",{style:{backgroundColor:t.colorselects,color:"#fff"},on:{click:function(e){t.cancel()}}},[t._v(t._s(t.$buttonObj.cancel))])],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(l,o,!1,function(t){i("AbCe")},"data-v-4cd8d010",null);e.default=c.exports}});