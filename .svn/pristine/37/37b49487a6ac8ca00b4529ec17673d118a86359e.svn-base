webpackJsonp([29],{"/1M8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("LAaC"),c=i("js5j"),o=i("I22p"),a=i("zHag"),n={data:function(){return{centerDialogVisible:!1,list:[{router:this.$parent.templateObj.tit01}],end:this.$parent.templateObj.tit03,filname:[{name:"all"},{name:"L12"},{name:"L18"},{name:"L0D18"},{name:"HOD18"}],selectNum:0,totalChoice:[],totalChecked:[],scct:"",subtypes:"",product:[],languageObj:{},listList:{},active:0,hover:"",productActive:"",type:1,deletshow:!1,bordercolor:{color:"1px solid"+this.colorselects},add:{},listActive:"",allCheck:"",windowHeight:"",thisPage:1,perPage:20,sumRecord:0}},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},components:{child:c.a},created:function(){sessionStorage.getItem("type")&&sessionStorage.getItem("type").length&&(this.type=sessionStorage.getItem("type")),window.addEventListener("resize",this.getHeight),Object(a.i)(this),this.getScct(),this.getHeight(),this.getData()},watch:{product:{deep:!0,handler:function(t){var e=this;this.deletshow=!1,this.allCheck=!0,t.forEach(function(t){t.listCheck&&(e.deletshow=!0),!t.listCheck&&(e.allCheck=!1)})}},type:function(){this.product.forEach(function(t){t.listCheck=!1})}},methods:{getCurrent:function(t){this.thisPage=t,this.getData()},getScct:function(){this.thisPage=1,Object(o.p)("proTem",{scct:"",active:"",subtypes:""},this)},setScct:function(){var t={scct:this.scct,active:this.active,subtypes:this.subtypes};Object(o.r)("proTem",t)},initData:function(){this.thisPage=1,this.scct="",this.active=0,this.subtypes="",Object(o.d)("proTem"),this.getData()},allChoice:function(){var t=this;this.product.forEach(function(e){t.allCheck?(e.listCheck=!0,t.totalChoice.push(e.gdid)):(e.listCheck=!1,t.totalChoice=[])})},getChoice:function(t,e,i,s){Object(o.l)(t,e,i,s)},doChoice:function(t,e){this.centerDialogVisible=!0,this[e]=Object(o.h)(t,e),this.selectNum=this[e].length,this.$bus.emit("deleteArr",this[e],"gdid")},getHeight:function(){this.windowHeight=this.$config.getHeight(400)},getInfos:function(t,e){if(this.active==t)return!0;this.active=t,this.subtypes="all"==e?"":e,this.thisPage=1,this.setScct(),this.getData()},doSearch:function(){this.setScct(),this.thisPage=1,this.getData()},goxiugai:function(t,e,i){var s=Object(o.q)(t,e,"/management/productList/productDetails/","./static/img/smallyy.png",i);this.$emit("addxiugai",s)},delOne:function(){var t=this,e={success:function(e){(e=JSON.parse(e)).message.indexOf("removeSuccess")>-1?(t.$message.success(t.$promptObj.removesuccess),t.centerDialogVisible=!1,t.$bus.emit("removeTab",t.totalChecked),t.getData()):t.$message.error(t.$promptObj.removefail)}};Object(s.h)("BHGoodsServiceInfc.batchRemoveGoods","goods",e)},getData:function(){var t=this;this.product=[];var e={self:this,success:function(e){if(e.data.message.indexOf("getSuccess")>-1){for(var i=e.data.goodsList,s={},c=0;c<i.length;c++)(s=i[c].fieldvalues).savetime=Object(o.o)(new Date(s.savetime.time)),s.listCheck=!1,t.product.push(s);t.currs=Math.ceil(e.data.page.sumRecord/t.perPage),t.$bus.emit("doPage",t.currs,t.perPage,t.thisPage),t.totalChoice=[],t.totalChecked=[]}else t.$message.error(t.$promptObj.searchfail)}};Object(s._1)(e)},remenbtype:function(t){this.totalChoice=[],this.totalChecked=[],this.type=t,sessionStorage.setItem("type",t)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("the-breadcrumb",{attrs:{end:t.end,list:t.list},on:{initData:t.initData}}),t._v(" "),s("div",{staticClass:"list-content"},[s("div",[s("div",{staticClass:"switcher"},[s("div",{staticClass:"s-left",on:{click:function(e){t.remenbtype(1)}}},[s("i",{staticClass:"iconfont icon-jiugongge",style:{color:1==t.type?t.colorselects:""}})]),t._v(" "),s("div",{staticClass:"s-right",on:{click:function(e){t.remenbtype(2)}}},[s("i",{staticClass:"iconfont icon-liebiao1",style:{color:2==t.type?t.colorselects:""}})])]),t._v(" "),s("div",{staticClass:"search"},[t._v("\n                "+t._s(t.$parent.templateObj.tit07)+"\n                "),s("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.$parent.templateObj.tit21},model:{value:t.scct,callback:function(e){t.scct=e},expression:"scct"}},[s("el-button",{style:{backgroundColor:t.colorselects},attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(e){t.doSearch()}},slot:"append"})],1)],1),t._v(" "),s("div",{staticClass:"filtrate"},[t._v("\n                "+t._s(t.$parent.templateObj.tit08)+"\n                "),s("div",{staticClass:"filtrateName"},t._l(t.filname,function(e,i){return s("div",{key:i,style:{border:t.active===i?"1px solid"+t.colorselects:"",color:t.active===i||t.hover===i?t.colorselects:""},on:{mouseenter:function(e){t.hover=i},mouseleave:function(e){t.hover=""},click:function(s){t.getInfos(i,e.name)}}},[t._v(t._s("all"==e.name?t.$parent.templateObj.tit09:e.name+t.$parent.templateObj.tit10))])}),0)]),t._v(" "),s("div",{staticClass:"cut"},[t.product.length>0?s("el-checkbox",{on:{change:t.allChoice},model:{value:t.allCheck,callback:function(e){t.allCheck=e},expression:"allCheck"}},[t._v(t._s(t.$buttonObj.allCheck))]):s("div",{staticClass:"content-null"},[t._v(" "+t._s(t.$buttonObj.noData)+" ")])],1)]),t._v(" "),s("el-scrollbar",{staticStyle:{width:"100%","overflow-x":"hidden"},style:{height:t.windowHeight}},[s("div",{staticClass:"productListbox"},[1==t.type?s("el-row",{attrs:{gutter:20}},t._l(t.product,function(e,c){return s("el-col",{key:c,staticClass:"productListsImg",attrs:{span:6}},[s("div",{staticClass:"product-fffback",class:e.listCheck?"productActive":"",on:{mouseenter:function(e){t.productActive=c},mouseleave:function(e){t.productActive=""}}},[s("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.productActive===c||e.listCheck,expression:"productActive === index||item.listCheck"}],attrs:{name:"checkcolor"},on:{change:function(i){t.getChoice(t.totalChoice,c,e.listCheck,e.gdid)}},model:{value:e.listCheck,callback:function(i){t.$set(e,"listCheck",i)},expression:"item.listCheck"}}),t._v(" "),s("div",{staticClass:"productLists",attrs:{title:e.gdcname}},[s("img",{attrs:{src:i("Wm+n")},on:{click:function(i){t.goxiugai(e.gdcname,e,"gdid")}}}),t._v(" "),s("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(e.gdcname))])])],1)])}),1):t._e(),t._v(" "),2==t.type?s("ul",{staticClass:"productTypeTwo"},t._l(t.product,function(e,c){return s("li",{key:c,class:e.listCheck?"listBack":"",on:{mouseenter:function(e){t.listActive=c},mouseleave:function(e){t.listActive=""}}},[s("div",{staticClass:"listCheck"},[s("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.listActive===c||e.listCheck,expression:"listActive === index||item.listCheck"}],on:{change:function(i){t.getChoice(t.totalChoice,c,e.listCheck,e.gdid)}},model:{value:e.listCheck,callback:function(i){t.$set(e,"listCheck",i)},expression:"item.listCheck"}})],1),t._v(" "),s("div",{staticClass:"listImg"},[s("img",{attrs:{src:i("Wm+n")}})]),t._v(" "),s("div",{staticClass:"particulars",on:{click:function(i){t.goxiugai(e.gdcname,e,"gdid")}}},[s("div",[t._v(t._s(e.gdcname))]),t._v(" "),s("div",{staticClass:"particularsList"},t._l(t.listList,function(i,c){return s("div",{key:c,style:"savetime"==c?"width:30%":"address"==c?"width:100%":""},[t._v(t._s(i)+"ï¼š"+t._s(e[c]))])}),0)])])}),0):t._e(),t._v(" "),s("el-dialog",{attrs:{title:t.$promptObj.warn,visible:t.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[s("span",[t._v(t._s(t.$promptObj.delwarn))]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$buttonObj.cancel))]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.delOne}},[t._v(t._s(t.$buttonObj.sure))])],1)]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.deletshow,expression:"deletshow"}],staticClass:"show-delet-btn",attrs:{type:"danger"},on:{click:function(e){t.doChoice(t.totalChoice,"totalChecked")}}},[t._v(t._s(t.$buttonObj.remove))])],1),t._v(" "),s("child",{on:{current:t.getCurrent}})],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(n,l,!1,function(t){i("rIkm")},"data-v-dfbd7ed6",null);e.default=r.exports},rIkm:function(t,e){}});