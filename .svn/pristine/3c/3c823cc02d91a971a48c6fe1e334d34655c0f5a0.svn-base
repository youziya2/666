webpackJsonp([62],{K47N:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("B9xg"),c=s("LAaC"),a=s("js5j"),o=s("I22p"),n={data:function(){return{centerDialogVisible:!1,list:[{router:this.$parent.mainboardObj.tit01}],end:this.$parent.mainboardObj.tit02,selectNum:0,totalChoice:[],totalChecked:[],modnum:"",types:"",subtypes:"",typesObj:{},subtypesObj:{},product:[],listList:{},hover:"",productActive:"",type:1,deletshow:!1,bordercolor:{color:"1px solid"+this.colorselects},add:{},listActive:"",windowHeight:"",allCheck:"",thisPage:1,perPage:20,sumRecord:0}},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},components:{child:a.a},created:function(){sessionStorage.getItem("type")&&sessionStorage.getItem("type").length&&(this.type=sessionStorage.getItem("type")),window.addEventListener("resize",this.getHeight),Object(i.f)(this),this.getHeight(),this.getScct(),this.getData()},watch:{product:{deep:!0,handler:function(t){var e=this;this.deletshow=!1,this.allCheck=!0,t.forEach(function(t){t.listCheck&&(e.deletshow=!0),!t.listCheck&&(e.allCheck=!1)})}},type:function(){this.product.forEach(function(t){t.listCheck=!1})}},methods:{getCurrent:function(t){this.thisPage=t,this.getData()},initData:function(){this.thisPage=1,this.modnum="",this.types="",this.subtypes="",Object(o.d)("mbTem"),this.getData()},changeType:function(){this.subtypes=""},allChoice:function(){var t=this;this.product.forEach(function(e){t.allCheck?(e.listCheck=!0,t.totalChoice.push(e.mbid)):(e.listCheck=!1,t.totalChoice=[])})},getChoice:function(t,e,s,i){Object(o.l)(t,e,s,i)},getScct:function(){this.thisPage=1,Object(o.p)("mbTem",{types:"",subtypes:"",modnum:""},this)},setScct:function(){var t={types:this.types,subtypes:this.subtypes,modnum:this.modnum};Object(o.r)("mbTem",t)},doSearch:function(){this.thisPage=1,this.setScct(),this.getData()},doChoice:function(t,e){this.centerDialogVisible=!0,this[e]=Object(o.h)(t,e),this.selectNum=this[e].length,this.$bus.emit("deleteArr",this[e],"mbid")},getHeight:function(){this.windowHeight=this.$config.getHeight(350)},goxiugai:function(t,e,s){var i=Object(o.q)(t,e,"/management/motherboardNorm/productDetails/","./static/img/smallyy.png",s);this.$emit("addxiugai",i)},delOne:function(){var t=this,e={success:function(e){(e=JSON.parse(e)).message.indexOf("removeSuccess")>-1?(t.$message.success(t.$promptObj.removesuccess),t.centerDialogVisible=!1,t.$bus.emit("removeTab",t.totalChecked),t.getData()):t.$message.error(t.$promptObj.removefail)}};Object(c.h)("BHMainboardServiceInfc.batchRemoveMainboard","mainboard",e)},getData:function(){var t=this;this.product=[];var e={self:this,success:function(e){if(e.data.message.indexOf("getSuccess")>-1){for(var s=e.data.mainboardList,i={},c=0;c<s.length;c++)(i=s[c].fieldvalues).savetime=Object(o.o)(new Date(i.savetime.time)),i.listCheck=!1,t.product.push(i);t.currs=Math.ceil(e.data.page.sumRecord/t.perPage),t.$bus.emit("doPage",t.currs,t.perPage,t.thisPage),t.totalChoice=[],t.totalChecked=[]}else t.$message.error(t.$promptObj.searchfail)}};Object(c._9)(e)},remenbtype:function(t){this.totalChoice=[],this.totalChecked=[],this.type=t,sessionStorage.setItem("type",t)}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("the-breadcrumb",{attrs:{end:t.end,list:t.list},on:{initData:t.initData}}),t._v(" "),i("div",{staticClass:"list-content"},[i("div",[i("div",{staticClass:"switcher"},[i("div",{staticClass:"s-left",on:{click:function(e){t.remenbtype(1)}}},[i("i",{staticClass:"iconfont icon-jiugongge",style:{color:1==t.type?t.colorselects:""}})]),t._v(" "),i("div",{staticClass:"s-right",on:{click:function(e){t.remenbtype(2)}}},[i("i",{staticClass:"iconfont icon-liebiao1",style:{color:2==t.type?t.colorselects:""}})])]),t._v(" "),i("div",{staticClass:"search-mb"},[i("div",{staticClass:"search-title"},[i("span",{staticClass:"grid-content"},[t._v(t._s(t.$parent.mainboardObj.tit03))])]),t._v(" "),i("div",{staticClass:"search-option"},[i("span",{staticClass:"grid-content"},[t._v(t._s(t.$parent.mainboardObj.tit10))]),t._v(" "),i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:t.$buttonObj.select},on:{change:t.changeType},model:{value:t.types,callback:function(e){t.types=e},expression:"types"}},t._l(t.typesObj,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),t._v(" "),i("div",{staticClass:"search-option"},[i("span",{staticClass:"grid-content"},[t._v(t._s(t.$parent.mainboardObj.tit11))]),t._v(" "),i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:t.$buttonObj.select},model:{value:t.subtypes,callback:function(e){t.subtypes=e},expression:"subtypes"}},t._l(t.subtypesObj[t.types],function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}),1)],1),t._v(" "),i("div",{staticClass:"search-option"},[i("span",{staticClass:"grid-content"},[t._v(t._s(t.$parent.mainboardObj.tit12))]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:t.$parent.mainboardObj.tit12},model:{value:t.modnum,callback:function(e){t.modnum=e},expression:"modnum"}})],1),t._v(" "),i("el-button",{style:{backgroundColor:t.colorselects},attrs:{icon:"el-icon-search"},nativeOn:{click:function(e){t.doSearch()}}})],1),t._v(" "),i("div",{staticClass:"cut"},[t.product.length>0?i("el-checkbox",{on:{change:t.allChoice},model:{value:t.allCheck,callback:function(e){t.allCheck=e},expression:"allCheck"}},[t._v(t._s(t.$buttonObj.allCheck))]):i("div",{staticClass:"content-null"},[t._v(" "+t._s(t.$buttonObj.noData)+" ")])],1)]),t._v(" "),i("el-scrollbar",{staticStyle:{width:"100%","overflow-x":"hidden"},style:{height:t.windowHeight}},[i("div",{staticClass:"productListbox"},[1==t.type?i("el-row",{attrs:{gutter:20}},t._l(t.product,function(e,c){return i("el-col",{key:c,staticClass:"productListsImg",attrs:{span:6}},[i("div",{staticClass:"product-fffback",class:e.listCheck?"productActive":"",on:{mouseenter:function(e){t.productActive=c},mouseleave:function(e){t.productActive=""}}},[i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.productActive===c||e.listCheck,expression:"productActive === index||item.listCheck"}],attrs:{name:"checkcolor"},on:{change:function(s){t.getChoice(t.totalChoice,c,e.listCheck,e.mbid)}},model:{value:e.listCheck,callback:function(s){t.$set(e,"listCheck",s)},expression:"item.listCheck"}}),t._v(" "),i("div",{staticClass:"productLists",attrs:{title:e.mbname}},[i("img",{attrs:{src:s("BFnv")},on:{click:function(s){t.goxiugai(e.mbname,e,"mbid")}}}),t._v(" "),i("div",{staticClass:"txt-hidden"},[t._v(t._s(e.mbname))])])],1)])}),1):t._e(),t._v(" "),2==t.type?i("ul",{staticClass:"productTypeTwo"},t._l(t.product,function(e,c){return i("li",{key:c,class:e.listCheck?"listBack":"",on:{mouseenter:function(e){t.listActive=c},mouseleave:function(e){t.listActive=""}}},[i("div",{staticClass:"listCheck"},[i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.listActive===c||e.listCheck,expression:"listActive === index||item.listCheck"}],on:{change:function(s){t.getChoice(t.totalChoice,c,e.listCheck,e.mbid)}},model:{value:e.listCheck,callback:function(s){t.$set(e,"listCheck",s)},expression:"item.listCheck"}})],1),t._v(" "),i("div",{staticClass:"listImg"},[i("img",{attrs:{src:s("BFnv")}})]),t._v(" "),i("div",{staticClass:"particulars",on:{click:function(s){t.goxiugai(e.mbname,e,"mbid")}}},[i("div",[t._v(t._s(e.mbname))]),t._v(" "),i("div",{staticClass:"particularsList"},t._l(t.listList,function(s,c){return i("div",{key:c},[t._v("\n                                    "+t._s(s)+"ï¼š"+t._s("types"==c?t.typesObj[e.types]:"subtypes"==c?t.subtypesObj[e.types][e.subtypes]:e[c])+"\n                                ")])}),0)])])}),0):t._e(),t._v(" "),i("el-dialog",{attrs:{title:t.$promptObj.warn,visible:t.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("span",[t._v(t._s(t.$promptObj.delwarn))]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$buttonObj.cancel))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.delOne}},[t._v(t._s(t.$buttonObj.sure))])],1)]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.deletshow,expression:"deletshow"}],staticClass:"show-delet-btn",attrs:{type:"danger"},on:{click:function(e){t.doChoice(t.totalChoice,"totalChecked")}}},[t._v(t._s(t.$buttonObj.remove))])],1),t._v(" "),i("child",{on:{current:t.getCurrent}})],1)],1)],1)},staticRenderFns:[]};var r=s("VU/8")(n,l,!1,function(t){s("NO7p")},"data-v-11862cc0",null);e.default=r.exports},NO7p:function(t,e){}});