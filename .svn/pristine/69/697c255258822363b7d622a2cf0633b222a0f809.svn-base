webpackJsonp([26],{"0JjU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("LAaC"),a=i("I22p"),n=i("zHag"),o={inject:["replaceroute"],data:function(){return{isGdcode:!1,isMac:!1,list:[{router:this.$parent.finishedObj.tit07}],end:"",finishedParvalObj:{},optons:{},windowHeight:""}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight(),this.getTemplate()},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},watch:{$route:"changecontent"},methods:{cancel:function(){var e=Object(a.v)("/management/productList/finishedDetail/");this.replaceroute(e[0],e[1])},getTemplate:function(){var e=this,t={success:function(t){if(t.data.message.indexOf("getSuccess")>-1){for(var i=t.data.goodsList,s={},a=[],n=0;n<i.length;n++)(s={}).label=i[n].fieldvalues.gdcname,s.value=i[n].fieldvalues.gdid,a.push(s);e.optons={gdid:a},e.getInfo()}else e.$message.error(e.$promptObj.searchfail)}};Object(s._2)(t)},getGoodsitemCount:function(e,t){var i=this,a=JSON.parse(sessionStorage.getItem(this.gditid));if(this.finishedParvalObj[t].val==a[t])return this[e]=!1;var n={gdcode:this.finishedParvalObj.gdcode.val,mac:this.finishedParvalObj.mac.val,success:function(t){if(t.data.message.indexOf("getSuccess")>-1)if(t.data.flag){i[e]=!0;var s="isGdcode"==e?"该单品编号已存在":"该mac地址已存在";i.$message.error(s)}else i[e]=!1;else i.$message.error(i.$buttonObj.busy)}};Object(s.M)(n,e)},sendInfo:function(){var e=this;if(this.isGdcode)return this.$message.error("该单品编号已存在");if(this.isMac)return this.$message.error("该mac地址已存在");if(Object(a.b)(this.finishedParvalObj)){var t={self:this,success:function(t){t.data.message.indexOf("editSuccess")>-1?e.cancel():e.$message.error(e.$promptObj.updatefail)}};Object(s._18)(t)}},getInfo:function(){this.end=this.$route.params.id,this.gditid=this.end.substring(this.end.indexOf("@")+1);var e=JSON.parse(sessionStorage.getItem(this.gditid)).finishedObj;Object(n.d)(this,this.optons,e)},changecontent:function(){this.getInfo()},getHeight:function(){this.windowHeight=this.$config.getHeight(190)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("the-breadcrumb",{attrs:{end:e.end,list:e.list}}),e._v(" "),i("el-scrollbar",{style:{height:e.windowHeight}},[i("div",{staticClass:"btm-content"},[i("div",{staticClass:"title"},[e._v(e._s(e.$parent.finishedObj.tit05))]),e._v(" "),i("div",{staticClass:"input"},[i("el-row",{staticStyle:{padding:"0"},attrs:{gutter:20}},e._l(e.finishedParvalObj,function(t,s){return i("el-col",{key:s,attrs:{span:6}},[i("div",{staticClass:"grid-content bg-purple"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"discrible"},[t.select?[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$parent.finishedObj.tit08},model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"item.val"}},e._l(t.select,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]:["gdcode"==s||"mac"==s?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"item.val"}],staticClass:"enter-input",domProps:{value:t.val},on:{blur:function(t){e.getGoodsitemCount("gdcode"==s?"isGdcode":"isMac",s)},input:function(i){i.target.composing||e.$set(t,"val",i.target.value)}}})]:[i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"item.val"}],staticClass:"enter-input",domProps:{value:t.val},on:{input:function(i){i.target.composing||e.$set(t,"val",i.target.value)}}})]]],2)])}),1)],1),e._v(" "),i("div",{staticClass:"btn_group"},[i("el-button",{staticStyle:{padding:"14px 60px","font-size":"16px"},attrs:{type:"warning"},nativeOn:{click:function(t){return e.sendInfo(t)}}},[e._v(e._s(e.$buttonObj.save))]),e._v(" "),i("el-button",{style:{backgroundColor:e.colorselects,color:"#fff",padding:"14px 60px",fontSize:"16px"},on:{click:function(t){e.cancel()}}},[e._v(e._s(e.$buttonObj.cancel))])],1)])])],1)},staticRenderFns:[]};var r=i("VU/8")(o,c,!1,function(e){i("2QkA")},"data-v-ed7f82ce",null);t.default=r.exports},"2QkA":function(e,t){}});