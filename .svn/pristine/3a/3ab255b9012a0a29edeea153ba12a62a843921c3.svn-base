webpackJsonp([52],{"+B/P":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("LAaC"),c=i("js5j"),o=i("I22p"),a=i("zHag"),n={data:function(){return{centerDialogVisible:!1,list:[{router:this.$parent.finishedObj.tit01}],end:this.$parent.finishedObj.tit03,selectNum:0,totalChoice:[],totalChecked:[],scct:"",types:"",product:[],hover:"",productActive:"",type:1,deletshow:!1,bordercolor:{color:"1px solid"+this.colorselects},listList:{},add:{},listActive:"",windowHeight:"",allCheck:"",thisPage:1,perPage:20,sumRecord:0,options:[],gdid:""}},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},components:{child:c.a},created:function(){sessionStorage.getItem("type")&&sessionStorage.getItem("type").length&&(this.type=sessionStorage.getItem("type")),window.addEventListener("resize",this.getHeight),this.getHeight(),Object(a.g)(this),this.getScct(),this.getData(),this.getTemplate()},watch:{product:{deep:!0,handler:function(t){var e=this;this.deletshow=!1,this.allCheck=!0,t.forEach(function(t){t.listCheck&&(e.deletshow=!0),!t.listCheck&&(e.allCheck=!1)})}},type:function(){this.product.forEach(function(t){t.listCheck=!1})}},methods:{getTemplate:function(){var t=this,e={success:function(e){if(e.data.message.indexOf("getSuccess")>-1)for(var i=e.data.goodsList,s={},c=0;c<i.length;c++)(s={}).label=i[c].fieldvalues.gdcname,s.value=i[c].fieldvalues.gdid,t.options.push(s);else t.$message.error(t.$promptObj.searchfail)}};Object(s._2)(e)},getCurrent:function(t){this.thisPage=t,this.getData()},initData:function(){this.thisPage=1,this.scct="",this.gdid="",Object(o.d)("proFin"),this.getData()},getScct:function(){this.thisPage=1,Object(o.p)("proFin",{scct:"",gdid:""},this)},setScct:function(){var t={scct:this.scct,gdid:this.gdid};Object(o.r)("proFin",t)},doSearch:function(){this.setScct(),this.thisPage=1,this.getData()},allChoice:function(){var t=this;this.product.forEach(function(e){t.allCheck?(e.listCheck=!0,t.totalChoice.push(e.gditid)):(e.listCheck=!1,t.totalChoice=[])})},getChoice:function(t,e,i,s){Object(o.l)(t,e,i,s)},doChoice:function(t,e){this.centerDialogVisible=!0,this[e]=Object(o.h)(t,e),this.selectNum=this[e].length,this.$bus.emit("deleteArr",this[e],"gditid")},getHeight:function(){this.windowHeight=this.$config.getHeight(370)},goxiugai:function(t,e,i){var s=Object(o.q)(t,e,"/management/productList/finishedDetail/","./static/img/smallyy.png",i);this.$emit("addxiugai",s)},delOne:function(){var t=this,e={success:function(e){(e=JSON.parse(e)).message.indexOf("removeSuccess")>-1?(t.$message.success(t.$promptObj.removesuccess),t.centerDialogVisible=!1,t.$bus.emit("removeTab",t.totalChecked),t.getData()):t.$message.error(t.$promptObj.removefail)}};Object(s.h)("BHGoodsServiceInfc.batchRemoveGoodsitem","goodsitem",e)},getData:function(){var t=this,e={self:this,success:function(e){if(e.data.message.indexOf("getSuccess")>-1){var i=e.data.goodsitemList,s={};t.product=[];for(var c=0;c<i.length;c++)(s=i[c].fieldvalues).savetime=Object(o.o)(new Date(s.savetime)),s.listCheck=!1,t.product.push(s);t.currs=Math.ceil(e.data.page.sumRecord/t.perPage),t.$bus.emit("doPage",t.currs,t.perPage,t.thisPage),t.totalChoice=[],t.totalChecked=[]}else t.$message.error(t.$promptObj.searchfail)}};Object(s.H)(e)},remenbtype:function(t){this.totalChoice=[],this.totalChecked=[],this.type=t,sessionStorage.setItem("type",t)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("the-breadcrumb",{attrs:{end:t.end,list:t.list},on:{initData:t.initData}}),t._v(" "),s("div",{staticClass:"list-content"},[s("div",[s("div",{staticClass:"switcher"},[s("div",{staticClass:"s-left",on:{click:function(e){t.remenbtype(1)}}},[s("i",{staticClass:"iconfont icon-jiugongge",style:{color:1==t.type?t.colorselects:""}})]),t._v(" "),s("div",{staticClass:"s-right",on:{click:function(e){t.remenbtype(2)}}},[s("i",{staticClass:"iconfont icon-liebiao1",style:{color:2==t.type?t.colorselects:""}})])]),t._v(" "),s("div",{staticStyle:{overflow:"hidden","line-height":"34px","padding-bottom":"45px"}},[s("span",{staticClass:"search"},[t._v(t._s(t.$parent.finishedObj.tit04))]),t._v(" "),s("div",{staticClass:"search-condition"},[s("div",{staticClass:"grid-content bg-purple",staticStyle:{"text-align":"right",width:"130px"}},[t._v(t._s(t.$parent.finishedObj.tit10))]),t._v(" "),s("div",{staticClass:"discrible",staticStyle:{width:"50%"}},[s("el-select",{attrs:{placeholder:t.gdid?t.gdid:t.$buttonObj.select},model:{value:t.gdid,callback:function(e){t.gdid=e},expression:"gdid"}},t._l(t.options,function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),s("div",{staticClass:"search-condition",staticStyle:{width:"300px"}},[s("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:t.$parent.finishedObj.tit09},model:{value:t.scct,callback:function(e){t.scct=e},expression:"scct"}})],1),t._v(" "),s("div",{staticClass:"search-condition"},[s("el-button",{staticStyle:{padding:"10px 22px"},style:{backgroundColor:t.colorselects},attrs:{icon:"el-icon-search"},nativeOn:{click:function(e){t.doSearch()}}})],1)]),t._v(" "),s("div",{staticClass:"cut"},[t.product.length>0?s("el-checkbox",{on:{change:t.allChoice},model:{value:t.allCheck,callback:function(e){t.allCheck=e},expression:"allCheck"}},[t._v(t._s(t.$buttonObj.allCheck))]):s("div",{staticClass:"content-null"},[t._v(" "+t._s(t.$buttonObj.noData)+" ")])],1)]),t._v(" "),s("el-scrollbar",{staticStyle:{width:"100%","overflow-x":"hidden"},style:{height:t.windowHeight}},[s("div",{staticClass:"productListbox"},[1==t.type?s("el-row",{attrs:{gutter:20}},t._l(t.product,function(e,c){return s("el-col",{key:c,staticClass:"productListsImg",attrs:{span:6}},[s("div",{staticClass:"product-fffback",class:e.listCheck?"productActive":"",on:{mouseenter:function(e){t.productActive=c},mouseleave:function(e){t.productActive=""}}},[s("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.productActive===c||e.listCheck,expression:"productActive === index||item.listCheck"}],attrs:{name:"checkcolor"},on:{change:function(i){t.getChoice(t.totalChoice,c,e.listCheck,e.gditid)}},model:{value:e.listCheck,callback:function(i){t.$set(e,"listCheck",i)},expression:"item.listCheck"}}),t._v(" "),s("div",{staticClass:"productLists",attrs:{title:e.gdiname}},[s("img",{attrs:{src:i("Wm+n")},on:{click:function(i){t.goxiugai(e.gdiname,e,"gditid")}}}),t._v(" "),s("div",{staticClass:"txt-hidden"},[t._v(t._s(e.gdiname))])])],1)])}),1):t._e(),t._v(" "),2==t.type?s("ul",{staticClass:"productTypeTwo"},t._l(t.product,function(e,c){return s("li",{key:c,class:e.listCheck?"listBack":"",on:{mouseenter:function(e){t.listActive=c},mouseleave:function(e){t.listActive=""}}},[s("div",{staticClass:"listCheck"},[s("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.listActive===c||e.listCheck,expression:"listActive === index||item.listCheck"}],on:{change:function(i){t.getChoice(t.totalChoice,c,e.listCheck,e.gditid)}},model:{value:e.listCheck,callback:function(i){t.$set(e,"listCheck",i)},expression:"item.listCheck"}})],1),t._v(" "),s("div",{staticClass:"listImg"},[s("img",{attrs:{src:i("Wm+n")}})]),t._v(" "),s("div",{staticClass:"particulars",on:{click:function(i){t.goxiugai(e.gdiname,e,"gditid")}}},[s("div",[t._v(t._s(e.gdiname))]),t._v(" "),s("div",{staticClass:"particularsList"},t._l(t.listList,function(i,c){return s("div",{key:c,style:"savetime"==c?"width:30%":"address"==c?"width:100%":""},[t._v(t._s(i)+"ï¼š"+t._s(e[c]))])}),0)])])}),0):t._e(),t._v(" "),s("el-dialog",{attrs:{title:t.$promptObj.warn,visible:t.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[s("span",[t._v(t._s(t.$promptObj.delwarn))]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$buttonObj.cancel))]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.delOne}},[t._v(t._s(t.$buttonObj.sure))])],1)]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.deletshow,expression:"deletshow"}],staticClass:"show-delet-btn",attrs:{type:"danger"},on:{click:function(e){t.doChoice(t.totalChoice,"totalChecked")}}},[t._v(t._s(t.$buttonObj.remove))])],1),t._v(" "),s("child",{on:{current:t.getCurrent}})],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(n,l,!1,function(t){i("pfQp")},"data-v-496d3eba",null);e.default=r.exports},pfQp:function(t,e){}});