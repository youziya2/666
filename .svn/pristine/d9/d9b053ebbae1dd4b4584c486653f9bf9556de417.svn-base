webpackJsonp([78],{rUpN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("LAaC"),a=i("I22p"),l=i("z4lz"),o={data:function(){return{types:"motifs",idHave:!1,isShow:!1,desktopObj:{},windowHeight:"",centerDialogVisible:!1,imgNum:"",filType:"pic",pkid:"",imgList:{img01:{imgid:"",imgpath:""},img02:{imgid:"",imgpath:""}}}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight(),Object(l.d)(this),this.desktopObj.savetime.val=Object(a.o)(new Date,!0)},computed:{colorselects:function(){return this.$route.matched[0].meta.colorselect}},methods:{getHeight:function(){this.windowHeight=this.$config.getHeight(240)},carryOut:function(){this.$router.push({path:"/management/desktopList/themeList/themeList"})},deletshow:function(t,e){this.filType="fil"==e?"fil":"pic",this.centerDialogVisible=!0,this.imgNum=t},delPictrue:function(){Object(s.k)(this,this.filType)},uploadMoreattach:function(t,e){var i={isAttach:"img01"==t?"attach":"pictrue",types:"img01"==t?"desktop":"mainImg",tbname:"desktop",imgIndex:this.imgList[t],dom:document.getElementById(t),pkid:e};Object(s._22)(i)},getDesktopCount:function(){var t=this,e={self:this,success:function(e){e.data.message.indexOf("getSuccess")>-1?e.data.flag?(t.isHave=!0,t.$message.error("该主题名称已存在")):t.isHave=!1:t.$message.error(t.$buttonObj.busy)}};Object(s.B)(e)},addDesktop:function(){var t=this;if(this.isHave)return this.$message.error("该主题名称已存在");if(Object(a.b)(this.desktopObj)){this.desktopObj.savetime.val=Object(a.o)(this.desktopObj.savetime.val,!0);var e={self:this,success:function(e){console.log(e),e.data.message.indexOf("addSuccess")>-1?(t.pkid=e.data.dpid[0],t.isShow=!0):t.$message.error(t.$promptObj.savefail)}};Object(s.b)(e)}}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"theme-content"},[i("el-scrollbar",{style:{height:t.windowHeight}},[i("div",{staticClass:"theme-title"},[t._v(t._s(t.$parent.$parent.desktop.tit26))]),t._v(" "),i("div",{staticClass:"theme-input"},[i("div",t._l(t.desktopObj,function(e,s){return i("div",{key:s,class:"remark"==s?"demo-textatea-suffix":"demo-input-suffix"},[i("span",{staticClass:"dis-title",class:{"demo-textatea-title":"remark"==s}},[t._v(t._s(e.name))]),t._v(" "),e.select?[i("el-select",{attrs:{disabled:t.isShow,placeholder:t.$buttonObj.select},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}},t._l(e.select,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})}),1)]:"savetime"==s?[i("el-date-picker",{staticStyle:{"margin-left":"15px",width:"35%"},attrs:{disabled:t.isShow,type:"date",placeholder:t.$parent.$parent.desktop.tit22},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]:"remark"==s?[i("el-input",{staticStyle:{width:"67.5%"},attrs:{disabled:t.isShow,resize:"none",type:"textarea",autosize:{minRows:6}},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]:["dpcname"==s?[i("el-input",{attrs:{disabled:t.isShow},nativeOn:{keyup:function(e){return t.getDesktopCount(e)}},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]:[i("el-input",{attrs:{disabled:t.isShow},model:{value:e.val,callback:function(i){t.$set(e,"val",i)},expression:"item.val"}})]]],2)}),0)]),t._v(" "),t.isShow?i("div",[i("div",{staticClass:"theme-title"},[t._v(t._s(t.$parent.$parent.desktop.tit27))]),t._v(" "),i("div",{staticClass:"theme-input",staticStyle:{display:"inline-block"}},[i("div",[i("form",{staticClass:"uploadForm",staticStyle:{position:"relative"},attrs:{enctype:"multipart/form-data"}},[i("div",{staticClass:"file-imgs"},[i("input",{attrs:{type:"file",id:"img01",name:"img01",accept:".zip",multiple:"multiple",title:t.$buttonObj.clickFile},on:{change:function(e){t.uploadMoreattach("img01",t.pkid)}}}),t._v(" "),i("div",{staticClass:"show-imgs"},[t.imgList.img01.imgpath?i("img",{attrs:{src:t.imgList.img01.imgpath}}):t._e(),t._v(" "),t.imgList.img01.imgpath&&"../../../static/img/timg.gif"!=t.imgList.img01.imgpath?i("span",{staticClass:"del-file-imgs",on:{click:function(e){t.deletshow("img01","fil")}}},[t._v(t._s(t.$buttonObj.remove))]):t._e()])])]),t._v(" "),i("div",{staticClass:"theme-uploadshuoming"},[t._v(t._s(t.$parent.$parent.desktop.tit24))])])]),t._v(" "),i("div",{staticClass:"theme-input",staticStyle:{display:"inline-block"}},[i("div",[i("form",{staticClass:"uploadForm",staticStyle:{position:"relative"},attrs:{enctype:"multipart/form-data"}},[i("div",{staticClass:"file-imgs"},[i("input",{attrs:{type:"file",id:"img02",name:"img02",accept:"image/jpeg, image/png, image/gif, image/jpg",multiple:"multiple",title:t.$buttonObj.clickImg},on:{change:function(e){t.uploadMoreattach("img02",t.pkid)}}}),t._v(" "),i("div",{staticClass:"show-imgs"},[t.imgList.img02.imgpath?i("img",{attrs:{src:t.imgList.img02.imgpath}}):t._e(),t._v(" "),t.imgList.img02.imgpath&&"../../../static/img/timg.gif"!=t.imgList.img02.imgpath?i("span",{staticClass:"del-file-imgs",on:{click:function(e){t.deletshow("img02")}}},[t._v(t._s(t.$buttonObj.remove))]):t._e()])])]),t._v(" "),i("div",{staticClass:"theme-uploadshuoming"},[t._v(t._s(t.$parent.$parent.desktop.tit25))])])])]):t._e(),t._v(" "),i("el-dialog",{attrs:{title:t.$promptObj.warn,visible:t.centerDialogVisible,width:"330px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("span",[t._v(t._s(t.$promptObj.delwarn))]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v(t._s(t.$buttonObj.cancel))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.delPictrue}},[t._v(t._s(t.$buttonObj.sure))])],1)]),t._v(" "),i("div",{staticClass:"btn-group"},[i("el-row",[t.isShow?[i("el-button",{style:{backgroundColor:t.colorselects,color:"#fff"},nativeOn:{click:function(e){return t.carryOut(e)}}},[t._v(t._s(t.$buttonObj.complete))])]:[i("el-button",{attrs:{type:"warning"},nativeOn:{click:function(e){return t.addDesktop(e)}}},[t._v(t._s(t.$buttonObj.next))]),t._v(" "),i("el-button",{style:{backgroundColor:t.colorselects,color:"#fff"}},[t._v(t._s(t.$buttonObj.cancel))])]],2)],1),t._v(" "),i("div",{staticStyle:{height:"40px",width:"100%",clear:"both"}})],1)],1)},staticRenderFns:[]},c=i("VU/8")(o,n,!1,null,null,null);e.default=c.exports}});